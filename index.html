<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>GeoQuest: The Ultimate Map Challenge</title>
    <style>
        :root {
            --primary: #6366f1;
            --success: #22c55e;
            --danger: #ef4444;
            --dark: #1e293b;
        }
        body { font-family: 'Press Start 2P', cursive, sans-serif; background: #0f172a; color: white; display: flex; justify-content: center; align-items: center; min-height: 100vh; margin: 0; overflow: hidden; }
        /* Simple fallback font if Press Start 2P isn't loaded */
        body { font-family: 'Segoe UI', Arial, sans-serif; }

        .game-container { background: #1e293b; width: 90%; max-width: 600px; padding: 30px; border-radius: 20px; border: 4px solid #334155; position: relative; box-shadow: 0 20px 50px rgba(0,0,0,0.5); }
        
        /* Stats Bar */
        .stats-bar { display: flex; justify-content: space-between; margin-bottom: 20px; background: #0f172a; padding: 10px; border-radius: 10px; font-size: 0.9rem; border: 2px solid var(--primary); }
        .progress-container { width: 100%; height: 10px; background: #334155; border-radius: 5px; margin-bottom: 20px; overflow: hidden; }
        #progress-bar { width: 0%; height: 100%; background: var(--primary); transition: width 0.3s ease; }

        /* Slide Logic */
        .slide { display: none; text-align: center; animation: fadeIn 0.5s; }
        .slide.active { display: block; }
        @keyframes fadeIn { from { opacity: 0; transform: translateY(10px); } to { opacity: 1; transform: translateY(0); } }

        .question-text { font-size: 1.4rem; margin-bottom: 25px; min-height: 80px; }
        
        .options-grid { display: grid; gap: 15px; }
        .opt-btn { background: #334155; border: 2px solid #475569; color: white; padding: 15px; border-radius: 10px; cursor: pointer; font-size: 1rem; transition: all 0.2s; }
        .opt-btn:hover { background: #475569; transform: scale(1.02); }
        .opt-btn.correct { background: var(--success) !important; border-color: #f0fff4; transform: scale(1.05); }
        .opt-btn.wrong { background: var(--danger) !important; border-color: #fff5f5; opacity: 0.7; }

        #feedback-msg { height: 30px; margin-top: 15px; font-weight: bold; font-size: 1.2rem; }
        .victory-screen { text-align: center; }
        .rank-tag { font-size: 2rem; color: #fbbf24; margin: 20px 0; display: block; }
    </style>
</head>
<body>

<div class="game-container">
    <div class="stats-bar">
        <span>LVL: <span id="lvl">1</span></span>
        <span>XP: <span id="xp">0</span></span>
        <span>HP: <span id="hp">❤️❤️❤️</span></span>
    </div>
    <div class="progress-container"><div id="progress-bar"></div></div>

    <div id="game-box">
        </div>

    <div id="feedback-msg"></div>
</div>

<script>
    const quizData = [
        { q: "Where does the world’s largest population of lions live?", a: "The Serengeti", options: ["The Serengeti", "Kruger Park", "Maasai Mara", "The Sahara"] },
        { q: "Which is the largest city in the United Arab Emirates?", a: "Dubai", options: ["Abu Dhabi", "Dubai", "Sharjah", "Muscat"] },
        { q: "The Gobi Desert stretches across northern China and...", a: "Mongolia", options: ["Kazakhstan", "Mongolia", "Russia", "India"] },
        { q: "What is the capital of Ethiopia?", a: "Addis Ababa", options: ["Nairobi", "Addis Ababa", "Accra", "Lagos"] },
        { q: "Sumatra is the largest island belonging entirely to which nation?", a: "Indonesia", options: ["Philippines", "Malaysia", "Indonesia", "Japan"] },
        { q: "What was Mumbai's former name?", a: "Bombay", options: ["Madras", "Calcutta", "Bombay", "Ceylon"] },
        { q: "Which country hosts the 'Running of the Bulls' in Pamplona?", a: "Spain", options: ["Portugal", "Mexico", "Spain", "Italy"] },
        { q: "Which city is the capital of Ukraine?", a: "Kyiv", options: ["Lviv", "Kyiv", "Odessa", "Crimea"] },
        { q: "The Nobel Peace Prize is specifically awarded in which city?", a: "Oslo", options: ["Stockholm", "Oslo", "Geneva", "Copenhagen"] },
        { q: "Which river is the longest in the United States?", a: "Missouri River", options: ["Mississippi", "Missouri River", "Colorado", "Rio Grande"] },
        { q: "The CN Tower is a major attraction in which Canadian province?", a: "Ontario", options: ["Quebec", "Ontario", "Alberta", "BC"] },
        { q: "What is the primary river of Venezuela?", a: "Orinoco", options: ["Amazon", "Orinoco", "Magdalena", "Plata"] },
        { q: "Asunción is the capital of which country?", a: "Paraguay", options: ["Uruguay", "Paraguay", "Bolivia", "Chile"] },
        { q: "Which city recorded the hottest temperature on Earth?", a: "Furnace Creek", options: ["Death Valley (Furnace Creek)", "Sahara", "Lut Desert", "Dubai"] }
    ];

    let currentIdx = 0;
    let xp = 0;
    let lvl = 1;
    let lives = 3;

    const gameBox = document.getElementById('game-box');
    const feedback = document.getElementById('feedback-msg');
    const xpDisplay = document.getElementById('xp');
    const lvlDisplay = document.getElementById('lvl');
    const hpDisplay = document.getElementById('hp');
    const progressBar = document.getElementById('progress-bar');

    function loadSlide() {
        if (currentIdx >= quizData.length) {
            showVictory();
            return;
        }

        const data = quizData[currentIdx];
        feedback.innerHTML = "";
        progressBar.style.width = `${(currentIdx / quizData.length) * 100}%`;

        gameBox.innerHTML = `
            <div class="slide active">
                <div class="question-text">${data.q}</div>
                <div class="options-grid">
                    ${data.options.map(opt => `<button class="opt-btn" onclick="checkAnswer(this, '${opt}')">${opt}</button>`).join('')}
                </div>
            </div>
        `;
    }

    function checkAnswer(btn, choice) {
        const correct = quizData[currentIdx].a;
        const buttons = document.querySelectorAll('.opt-btn');
        buttons.forEach(b => b.disabled = true); // Prevent double clicking

        if (choice === correct) {
            btn.classList.add('correct');
            feedback.innerHTML = "<span style='color:var(--success)'>+100 XP! CRITICAL HIT!</span>";
            xp += 100;
            if (xp % 300 === 0) {
                lvl++;
                lvlDisplay.innerText = lvl;
                feedback.innerHTML = "<span style='color:var(--primary)'>LEVEL UP!</span>";
            }
        } else {
            btn.classList.add('wrong');
            feedback.innerHTML = `<span style='color:var(--danger)'>MISS! Correct: ${correct}</span>`;
            lives--;
            hpDisplay.innerText = "❤️".repeat(Math.max(0, lives));
        }

        xpDisplay.innerText = xp;
        
        setTimeout(() => {
            currentIdx++;
            loadSlide();
        }, 1500);
    }

    function showVictory() {
        progressBar.style.width = "100%";
        let rank = xp > 1000 ? "GEOGRAPHY ARCHMAGE" : "WANDERER";
        gameBox.innerHTML = `
            <div class="victory-screen">
                <h2>QUEST COMPLETE!</h2>
                <p>Final XP: ${xp}</p>
                <span class="rank-tag">${rank}</span>
                <button class="opt-btn" onclick="location.reload()">RESTART QUEST</button>
            </div>
        `;
    }

    loadSlide();
</script>

</body>
</html>
